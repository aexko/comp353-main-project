<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dashboard</title>
    <!-- Add Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container mt-5">
<h1 class="mb-4">MVC</h1>
<p>Welcome to the main dashboard</p>
<button class="btn btn-primary" onclick="window.location.href='{% url 'queries_asked:index' %}'">Go to Queries</button>

<h2 class="mt-4">Club Member Management</h2>
<ul class="list-group">
    <li class="list-group-item"><a href="{% url 'create_member' %}">Register a new club member</a></li>
    <li class="list-group-item"><a href="{% url 'member_list' %}">View all club members</a></li>
    <li class="list-group-item"><a href="{% url 'club_member_list' %}">Manage club members</a></li>
</ul>

<h2 class="mt-4">Personnel Management</h2>
<ul class="list-group">
    <li class="list-group-item"><a href="{% url 'personnel_list' %}">Manage personnel</a></li>
    <li class="list-group-item"><a href="{% url 'personnel_create' %}">Add new personnel</a></li>
</ul>

<h2 class="mt-4">Family Member Management</h2>
<ul class="list-group">
    <li class="list-group-item"><a href="{% url 'family_member_list' %}">Manage family members</a></li>
    <li class="list-group-item"><a href="{% url 'family_member_create' %}">Add new family member</a></li>
</ul>

<h2 class="mt-4">Reports</h2>
<ul class="list-group">
    <li class="list-group-item"><a href="{% url 'location_report' %}">Get a report on all locations</a></li>
    <li class="list-group-item"><a href="{% url 'inactive_members_report' %}">Inactive members report</a></li>
</ul>

<h2 class="mt-4">Team Management</h2>
<ul class="list-group">
    <li class="list-group-item"><a href="{% url 'team_formation_list' %}">View all team formations</a></li>
    <li class="list-group-item"><a href="{% url 'team_formation_create' %}">Create new team formation</a></li>
</ul>

{% if report_title %}
<h3>{{ report_title }}</h3>
{% if report_data %}
<table class="table table-bordered">
    <thead>
    <tr>
        {% for header in report_headers %}
        <th>{{ header }}</th>
        {% endfor %}
    </tr>
    </thead>
    <tbody>
    {% for row in report_data %}
    <tr>
        {% for cell in row %}
        <td>{{ cell }}</td>
        {% endfor %}
    </tr>
    {% endfor %}
    </tbody>
</table>
{% else %}
<div class="alert alert-warning" role="alert">
    No results found for this report.
</div>
{% endif %}
{% endif %}

{% if members %}
<h3>All Club Members</h3>
<table class="table table-bordered">
    <thead>
    <tr>
        <th>Membership Number</th>
        <th>First Name</th>
        <th>Last Name</th>
        <th>Email</th>
        <th>Location</th>
        <th>Date Joined</th>
    </tr>
    </thead>
    <tbody>
    {% for member in members %}
    <tr>
        <td>{{ member.membership_number }}</td>
        <td>{{ member.first_name }}</td>
        <td>{{ member.last_name }}</td>
        <td>{{ member.email_address }}</td>
        <td>{{ member.location.name|default:"No Location" }}</td>
        <td>{{ member.date_joined }}</td>
    </tr>
    {% endfor %}
    </tbody>
</table>
{% endif %}

{% if location_data %}
<h3>All Locations</h3>
<table class="table table-bordered">
    <thead>
    <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Address</th>
        <th>City</th>
        <th>Phone</th>
        <th>Max Capacity</th>
    </tr>
    </thead>
    <tbody>
    {% for location in location_data %}
    <tr>
        <td>{{ location.name }}</td>
        <td>{{ location.type }}</td>
        <td>{{ location.address }}</td>
        <td>{{ location.city }}</td>
        <td>{{ location.phone_number }}</td>
        <td>{{ location.max_capacity }}</td>
    </tr>
    {% endfor %}
    </tbody>
</table>
{% endif %}

<!-- Add Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>